<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Wingo 30s Predictor</title>

<style>
body{
    background:#0b0b1a;
    color:#fff;
    font-family:Segoe UI,sans-serif;
    display:flex;
    justify-content:center;
    align-items:center;
    min-height:100vh;
}
.card{
    background:#16162d;
    padding:20px;
    border-radius:15px;
    width:100%;
    max-width:420px;
}
h2{text-align:center;color:#00f2ff;}
.timer{
    font-size:42px;
    text-align:center;
    color:#ff00ff;
    margin:10px 0;
}
.box{
    display:flex;
    justify-content:space-between;
    margin-top:10px;
}
.small{color:#00f2ff;}
.big{color:#ffd700;}
table{
    width:100%;
    margin-top:15px;
    border-collapse:collapse;
}
th,td{
    padding:6px;
    text-align:center;
    border-bottom:1px solid #333;
}
</style>
</head>

<body>

<div class="card">
    <h2>WINGO 30s</h2>
    <div>PERIOD: <span id="period">----</span></div>
    <div class="timer" id="timer">00:30</div>

    <div class="box">
        <div>
            RESULT<br>
            <b id="pred">---</b>
        </div>
        <div>
            COLOR<br>
            <b id="color">---</b>
        </div>
    </div>

    <table>
        <thead>
            <tr>
                <th>PERIOD</th>
                <th>NUM</th>
                <th>SIZE</th>
                <th>COLOR</th>
            </tr>
        </thead>
        <tbody id="history"></tbody>
    </table>
</div>

<script>
const API_URL = "https://ckygjf6r.com/api/webapi/GetNoaverageEmerdList";
const TOKEN = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpYXQiOiIxNzY2NTU5MTk3IiwibmJmIjoiMTc2NjU1OTE5NyIsImV4cCI6IjE3NjY1NjA5OTciLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL2V4cGlyYXRpb24iOiIxMi8yNC8yMDI1IDE6NTM6MTcgUE0iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJBY2Nlc3NfVG9rZW4iLCJVc2VySWQiOiIzMjgxMTciLCJVc2VyTmFtZSI6Ijk1OTY4ODIxOTU4NSIsIlVzZXJQaG90byI6IjIiLCJOaWNrTmFtZSI6IlppbiAiLCJBbW91bnQiOiIxNDk1NC4wMSIsIkludGVncmFsIjoiMCIsIkxvZ2luTWFyayI6Ikg1IiwiTG9naW5UaW1lIjoiMTIvMjQvMjAyNSAxOjIzOjE3IFBNIiwiTG9naW5JUEFkZHJlc3MiOiIyMDIuMTY1LjgyLjI0MiIsIkRiTnVtYmVyIjoiMCIsIklzdmFsaWRhdG9yIjoiMCIsIktleUNvZGUiOiIzNTEiLCJUb2tlblR5cGUiOiJBY2Nlc3NfVG9rZW4iLCJQaG9uZVR5cGUiOiIxIiwiVXNlclR5cGUiOiIwIiwiVXNlck5hbWUyIjoiIiwiaXNzIjoiand0SXNzdWVyIiwiYXVkIjoibG90dGVyeVRpY2tldCJ9.3zvk20Wuordfm6DO3lEbHCQOT-5K2wIGs-B3pEC-wn4"; // ðŸ‘ˆ Bearer token á€¡á€•á€¼á€Šá€·á€ºá€¡á€…á€¯á€¶á€‘á€Šá€·á€º

function getColor(num){
    if(num===0) return "RED+VIOLET";
    if(num===5) return "GREEN+VIOLET";
    if([1,3,7,9].includes(num)) return "GREEN";
    return "RED";
}

async function fetchData(){
    try{
        const res = await fetch(API_URL,{
            method:"POST",
            headers:{
                "Content-Type":"application/json;charset=UTF-8",
                "Authorization":"Bearer "+TOKEN
            },
            body:JSON.stringify({
                pageSize:10,
                pageNo:1,
                typeId:30, // âœ… 30s game
                language:7,
                random:"fd387af9d03c4c26b6ae0d8db8a30f77",
                signature:"C94CC0D2809BB157F78DAC18B4B9B4BA",
                timestamp:Math.floor(Date.now()/1000)
            })
        });

        const json = await res.json();
        if(json.code===0 && json.data.list.length>0){
            updateUI(json.data.list);
        }
    }catch(e){
        console.log("API ERROR");
    }
}

function updateUI(list){
    const last = list[0];
    document.getElementById("period").innerText =
        (BigInt(last.issueNumber)+1n).toString();

    const nums = list.slice(0,5).map(i=>parseInt(i.number ?? i.result));
    const avg = nums.reduce((a,b)=>a+b,0)/nums.length;

    const pred = avg>=4.5?"BIG":"SMALL";
    const predEl = document.getElementById("pred");
    predEl.innerText = pred;
    predEl.className = pred==="BIG"?"big":"small";

    document.getElementById("color").innerText =
        getColor(Math.round(avg));

    const tbody = document.getElementById("history");
    tbody.innerHTML = "";

    list.forEach(i=>{
        const n = parseInt(i.number ?? i.result);
        tbody.innerHTML += `
        <tr>
            <td>${i.issueNumber.slice(-4)}</td>
            <td>${n}</td>
            <td class="${n>=5?'big':'small'}">${n>=5?'BIG':'SMALL'}</td>
            <td>${getColor(n)}</td>
        </tr>`;
    });
}

/* â±ï¸ 30 seconds timer */
setInterval(()=>{
    const sec = new Date().getSeconds();
    const remain = 30 - (sec % 30);
    document.getElementById("timer").innerText =
        "00:"+String(remain).padStart(2,"0");

    if(remain===30 || remain===1){
        fetchData();
    }
},1000);

fetchData();
</script>

</body>
</html>